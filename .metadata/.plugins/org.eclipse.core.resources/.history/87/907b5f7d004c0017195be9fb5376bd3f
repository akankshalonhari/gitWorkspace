package SamplesProject.examples;
import java.util.Arrays;
import java.util.Iterator;
import java.util.PriorityQueue;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.EnableAutoConfiguration;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

/*** Hello world! ***/

@RestController
@EnableAutoConfiguration
public class App 
{	
	@RequestMapping("/")
    String hello() {
        return "Hello welcome to Akanksha`s world!";
    }
	
    public static void main(String[] args){
        SpringApplication.run(App.class, args);
        int[] elems = new int[]{15,8,10, 2, 7, 5, 9, 11};
        topKHeap(elems, 5);
    }
    
    public static void topKHeap(int[] A, int K){
    	PriorityQueue<Integer> heap = new PriorityQueue<Integer>();
    	int count=0;
    	for(int i : A){
    		System.out.println("Curr elem :"+ i + " top : " + heap.peek() + " count " + count);
    		if(heap.peek() == null){
    			heap.add(i);
    	    	count++;
    		} else if(heap.peek() < i || count <= K) {
    			if(count == K){
    				int temp = heap.poll();
    				System.out.println("poll : " + temp);
    				count--;
    			}
    			heap.add(i);
    	    	count++;
    		}
    	}
    	PriorityQueue<Integer> printHeap =  heap;
    	Iterator<Integer> iter = heap.iterator();
    	while(iter.hasNext()){
    		System.out.println(iter.next() + " ");
    	}
     	//heap.addAll(printHeap);
    }
}